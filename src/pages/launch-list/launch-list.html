<!--
  Generated template for the LaunchListPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.-->

  <ion-header>
    <ion-navbar>
      <ion-title>spaceXionic</ion-title>
    </ion-navbar>
  </ion-header>

  <ion-content class="card-background-page">
    <div style="height: 100%; width: 100%; display: flex; flex-direction: column;">

      <ion-card *ngIf="nextLaunch" style="flex: 0 0 auto;">
        <div id="img-launch-container">
          <div id="opacity-launch"></div>
          <img src="assets/imgs/launch2.jpg"/>
          <div id="title-container">
            <div class="card-title">Next Launch</div>
            <div class="card-subtitle">{{timeForNextLaunch}}</div>
          </div>
          <div id="content-container">
            <ion-row>
              <ion-col col-8>
                <h2 class="white small-text"><b>MISSION NAME :</b> {{nextLaunch.mission_name}}</h2>
              </ion-col>
              <ion-col col-4 text-wrap>
                <ion-badge item-end color="primary">
                  Flight nÂ°{{nextLaunch.flight_number}}
                </ion-badge>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col col-8>
                <h2 class="white small-text"><b>LAUNCH SITE :</b> {{nextLaunch.launch_site.site_name}}</h2>
              </ion-col>
              <ion-col col-4 text-wrap>
                <ion-badge item-end color="secondary">
                  {{nextLaunch.rocket.rocket_name}}
                </ion-badge>
              </ion-col>
            </ion-row>
          </div>
          <div id="video-container">
            <ion-badge color="danger">
              <ion-icon>
                <img src="assets/imgs/rec.png" class="icon-spacex">
              </ion-icon>
              LIVE
            </ion-badge>
          </div>
        </div>
        <div id="seg-choice">
          <ion-segment id="segment-choice-launches" [(ngModel)]="segmentChoice">
            <ion-segment-button value="past-launches">
              Past launches
            </ion-segment-button>
            <ion-segment-button value="next-launches">
              Next launches
            </ion-segment-button>
          </ion-segment>
        </div>
      </ion-card>

      <div id="list-launches" [ngSwitch]="segmentChoice" *ngIf="pastLaunches" style="flex: 1;">
        <ion-scroll style="width:100%;height:100%" scrollY="true" *ngSwitchCase="'past-launches'">
          <ion-list>
            <button ion-item detail-none *ngFor="let launch of pastLaunches" (click)="goToLaunchDetail(launch)">
              <ion-avatar item-start>
                <img src="{{launch.links.mission_patch_small}}">
              </ion-avatar>
              <ion-badge color="secondary" name="rounded" *ngIf="launch.launch_success" float-end>Succeeded</ion-badge>
              <ion-badge color="danger" name="rounded" *ngIf="launch.launch_success == false" float-end>Failed</ion-badge>
              <h2>{{launch.mission_name}}</h2>
            </button>
          </ion-list>
        </ion-scroll>

        <ion-scroll style="width:100%;height:100%" scrollY="true" *ngSwitchCase="'next-launches'">
          <ion-list>
            <button ion-item detail-none *ngFor="let launch of upcomingLaunches" (click)="goToLaunchDetail(launch)">
              <ion-avatar item-start>
                <img src="assets/imgs/spacex.jpg">
              </ion-avatar>
              <h2>{{launch.mission_name}}</h2>
            </button>
          </ion-list>
        </ion-scroll>
      </div>
    </div>

  </ion-content>